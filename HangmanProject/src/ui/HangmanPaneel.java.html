<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>HangmanPaneel.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">AllTests (11-mei-2017 23:39:18)</a> &gt; <a href="../../index.html" class="el_group">HangmanProject</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">ui</a> &gt; <span class="el_source">HangmanPaneel.java</span></div><h1>HangmanPaneel.java</h1><pre class="source lang-java linenums">package ui;

import java.awt.BorderLayout;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;

import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;

import domain.DomainException;
import domain.HangMan;

public class HangmanPaneel extends JPanel {

	private static final long serialVersionUID = 1L;	
	
	private JTextField letter;	
	private JLabel woord;
	
	private TekenVenster tekenVenster;
	private HangMan spel;
	
	public HangmanPaneel(HangMan spel){
<span class="nc" id="L26">		super();</span>
<span class="nc" id="L27">		setSpel(spel);</span>
<span class="nc" id="L28">		init();</span>
<span class="nc" id="L29">	}</span>

	private void init(){
<span class="nc" id="L32">		letter = new JTextField(&quot;&quot;,5);</span>
<span class="nc" id="L33">		woord = new JLabel(&quot;&quot;);</span>
		
<span class="nc" id="L35">		this.setLayout(new BorderLayout());</span>
<span class="nc" id="L36">		this.add(letter, BorderLayout.EAST);</span>
<span class="nc" id="L37">		this.add(woord, BorderLayout.CENTER);</span>
		
<span class="nc" id="L39">		letter.addKeyListener(new RaadLuisteraar());</span>
<span class="nc" id="L40">	}</span>
	
	private void reset() {
<span class="nc" id="L43">		woord.setText(getSpel().getHint());</span>
<span class="nc" id="L44">		getTekenVenster().teken();</span>
<span class="nc" id="L45">	}</span>
	
<span class="nc" id="L47">	public class RaadLuisteraar implements KeyListener {</span>

		@Override
		public void keyPressed(KeyEvent arg0) {
<span class="nc bnc" id="L51" title="All 2 branches missed.">			if(arg0.getKeyCode()== KeyEvent.VK_ENTER)</span>
				try {
<span class="nc" id="L53">						String input = letter.getText();</span>
<span class="nc" id="L54">						char guess = '\u0000';</span>
<span class="nc bnc" id="L55" title="All 2 branches missed.">						if(input.length() &gt; 0){</span>
<span class="nc" id="L56">							guess = input.charAt(0);</span>
						}
						// raad, if guess is string, it gets first char ^
<span class="nc" id="L59">						spel.raad(guess);</span>
						
<span class="nc" id="L61">						woord.setText(getSpel().getHint());</span>
<span class="nc" id="L62">						letter.setText(&quot;&quot;);</span>
<span class="nc" id="L63">						getTekenVenster().teken();</span>
						
						//toon boodschap als gewonnen of verloren en vraag of speler opnieuw wilt spelen
						//als de speler opnieuw wilt spelen: herzet het spel en het paneel
						//anders stop (System.exit(0))
<span class="nc bnc" id="L68" title="All 2 branches missed.">						if (spel.isGameOver()) {</span>
<span class="nc" id="L69">							JOptionPane.showMessageDialog(null, &quot;U heeft verloren.&quot;);</span>
<span class="nc" id="L70">							gameEnd();</span>
						}
<span class="nc bnc" id="L72" title="All 2 branches missed.">						if (spel.isGewonnen()) {</span>
<span class="nc" id="L73">							JOptionPane.showMessageDialog(null, &quot;U heeft gewonnen!&quot;);</span>
<span class="nc" id="L74">							gameEnd();</span>
						}

<span class="nc" id="L77">				} catch (DomainException e) {</span>
<span class="nc" id="L78">					JOptionPane.showMessageDialog(null, e.getMessage());</span>
<span class="nc" id="L79">					e.printStackTrace();</span>
				}	
<span class="nc" id="L81">		}</span>
		
		private void gameEnd() {
<span class="nc" id="L84">			Object[] keuzes = {&quot;Opnieuw&quot;, &quot;Exit&quot;};</span>
<span class="nc" id="L85">			Object keuze = JOptionPane.showInputDialog(null,&quot;Wat wilt u doen?&quot;, &quot;input&quot;, JOptionPane.INFORMATION_MESSAGE, null, keuzes, null);</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">			if (keuze!=null) {</span>
<span class="nc bnc" id="L87" title="All 2 branches missed.">				if (keuze.equals(&quot;Opnieuw&quot;)) {</span>
					try {
<span class="nc" id="L89">						Launcher.main(null);</span>
<span class="nc" id="L90">					} catch (Exception e) {</span>
<span class="nc" id="L91">						JOptionPane.showMessageDialog(null, &quot;Can't relaunch, seek help.&quot;);</span>
<span class="nc" id="L92">						e.printStackTrace();</span>
					}
				} 
<span class="nc" id="L95">			} else {</span>
<span class="nc" id="L96">				System.exit(0);</span>
			}
<span class="nc" id="L98">		}</span>

		@Override
<span class="nc" id="L101">		public void keyReleased(KeyEvent arg0) {/* Niet nodig*/}</span>
		@Override
<span class="nc" id="L103">		public void keyTyped(KeyEvent arg0) {/* Niet nodig*/}</span>
	}
	
	private void setSpel(HangMan spel){
<span class="nc" id="L107">		this.spel = spel;</span>
<span class="nc" id="L108">	}</span>

	private HangMan getSpel() {
<span class="nc" id="L111">		return spel;</span>
	}
	

	private TekenVenster getTekenVenster() {
<span class="nc" id="L116">		return tekenVenster;</span>
	}

	 public void setTekenVenster(TekenVenster tekenVenster) {
<span class="nc" id="L120">		this.tekenVenster = tekenVenster;</span>

<span class="nc" id="L122">		reset();</span>
<span class="nc" id="L123">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span>AllTests (11-mei-2017 23:39:18)</div></body></html>